{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n//导入draggable组件\nimport draggable from \"vuedraggable\";\nimport { mapState } from \"vuex\";\nexport default {\n  //注册draggable组件\n  components: {\n    draggable\n  },\n  data() {\n    return {\n      //定义要被拖拽对象的数组\n      finishedTask: JSON.parse(localStorage.getItem(\"finishedTask\")) || [{\n        id: \"1\",\n        name: \"待分组任务\"\n      }],\n      arr1: JSON.parse(localStorage.getItem(\"finishedTask\")) || [{\n        id: \"1\",\n        name: \"重要紧急\"\n      }],\n      arr2: JSON.parse(localStorage.getItem(\"finishedTask\")) || [{\n        id: \"1\",\n        name: \"重要不紧急\"\n      }],\n      arr3: JSON.parse(localStorage.getItem(\"finishedTask\")) || [{\n        id: \"1\",\n        name: \"紧急不重要\"\n      }],\n      arr4: JSON.parse(localStorage.getItem(\"finishedTask\")) || [{\n        id: \"1\",\n        name: \"不重要紧急\"\n      }]\n    };\n  },\n  methods: {\n    //move回调方法\n    onMove(e, originalEvent) {\n      //不允许停靠\n      // if (e.relatedContext.element.id == 1) return false;\n      //不允许拖拽\n      if (e.draggedContext.element.id == 1) return false;\n      return true;\n    },\n    pushFinishedTaskArr() {\n      //本身就是从todolist的本地数据中读取的。\n      const finishedThing = [{\n        id: \"1\",\n        name: \"待分组任务\"\n      }];\n      for (let i = 0; i < this.getFinishedTodos.length; i++) {\n        const id = this.getFinishedTodos[i].id;\n        const title = this.getFinishedTodos[i].todoThing.title;\n        const taskObj = {\n          id: id,\n          name: title\n        };\n        finishedThing.push(taskObj);\n      }\n      // 在这里直接进行本地的存储；\n      localStorage.setItem(\"finishedTask\", JSON.stringify(finishedThing));\n    },\n    deleteFinishedTaskArr() {\n      localStorage.removeItem(\"finishedTask\");\n    }\n  },\n  computed: {\n    ...mapState(\"todolist\", [\"todos\"]),\n    getFinishedTodos: {\n      get() {\n        return this.todos.filter(item => {\n          return item.isFinished == true;\n        });\n      },\n      set() {\n        console.log(\"set调用了\");\n      }\n    }\n  },\n  watch: {\n    finishedTask: {\n      deep: true,\n      handler(newValue) {\n        console.log(\"Task\");\n        localStorage.setItem(\"finishedTask\", JSON.stringify(newValue));\n      }\n    },\n    arr1: {\n      deep: true,\n      handler(newValue) {\n        localStorage.setItem(\"oneArea\", JSON.stringify(newValue));\n        console.log(\"oneArea\");\n      }\n    },\n    arr2: {\n      deep: true,\n      handler(newValue) {\n        localStorage.setItem(\"twoArea\", JSON.stringify(newValue));\n        console.log(\"twoArea\");\n      }\n    },\n    arr3: {\n      deep: true,\n      handler(newValue) {\n        localStorage.setItem(\"ThreeArea\", JSON.stringify(newValue));\n        console.log(\"Three\");\n      }\n    },\n    arr4: {\n      deep: true,\n      handler(newValue) {\n        localStorage.setItem(\"fourArea\", JSON.stringify(newValue));\n        console.log(\"Four\");\n      }\n    }\n  },\n  mounted() {\n    this.pushFinishedTaskArr();\n    console.log(\"mounted\");\n  },\n  destroyed() {\n    this.deleteFinishedTaskArr();\n    console.log(\"destroyed\");\n  }\n};","map":{"version":3,"names":["draggable","mapState","components","data","finishedTask","JSON","parse","localStorage","getItem","id","name","arr1","arr2","arr3","arr4","methods","onMove","e","originalEvent","draggedContext","element","pushFinishedTaskArr","finishedThing","i","getFinishedTodos","length","title","todoThing","taskObj","push","setItem","stringify","deleteFinishedTaskArr","removeItem","computed","get","todos","filter","item","isFinished","set","console","log","watch","deep","handler","newValue","mounted","destroyed"],"sources":["src/pages/FourQuadrant.vue"],"sourcesContent":["<script>\r\n//导入draggable组件\r\nimport draggable from \"vuedraggable\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  //注册draggable组件\r\n  components: {\r\n    draggable,\r\n  },\r\n  data() {\r\n    return {\r\n      //定义要被拖拽对象的数组\r\n      finishedTask: JSON.parse(localStorage.getItem(\"finishedTask\")) || [\r\n        { id: \"1\", name: \"待分组任务\" },\r\n      ],\r\n      arr1: JSON.parse(localStorage.getItem(\"finishedTask\")) || [\r\n        { id: \"1\", name: \"重要紧急\" },\r\n      ],\r\n      arr2: JSON.parse(localStorage.getItem(\"finishedTask\")) || [\r\n        { id: \"1\", name: \"重要不紧急\" },\r\n      ],\r\n      arr3: JSON.parse(localStorage.getItem(\"finishedTask\")) || [\r\n        { id: \"1\", name: \"紧急不重要\" },\r\n      ],\r\n      arr4: JSON.parse(localStorage.getItem(\"finishedTask\")) || [\r\n        { id: \"1\", name: \"不重要紧急\" },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    //move回调方法\r\n    onMove(e, originalEvent) {\r\n      //不允许停靠\r\n      // if (e.relatedContext.element.id == 1) return false;\r\n      //不允许拖拽\r\n      if (e.draggedContext.element.id == 1) return false;\r\n      return true;\r\n    },\r\n    pushFinishedTaskArr() {\r\n      //本身就是从todolist的本地数据中读取的。\r\n      const finishedThing = [{ id: \"1\", name: \"待分组任务\" }];\r\n      for (let i = 0; i < this.getFinishedTodos.length; i++) {\r\n        const id = this.getFinishedTodos[i].id;\r\n        const title = this.getFinishedTodos[i].todoThing.title;\r\n        const taskObj = { id: id, name: title };\r\n        finishedThing.push(taskObj);\r\n      }\r\n      // 在这里直接进行本地的存储；\r\n      localStorage.setItem(\"finishedTask\", JSON.stringify(finishedThing));\r\n    },\r\n    deleteFinishedTaskArr() {\r\n      localStorage.removeItem(\"finishedTask\");\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState(\"todolist\", [\"todos\"]),\r\n    getFinishedTodos: {\r\n      get() {\r\n        return this.todos.filter((item) => {\r\n          return item.isFinished == true;\r\n        });\r\n      },\r\n      set() {\r\n        console.log(\"set调用了\");\r\n      },\r\n    },\r\n  },\r\n  watch: {\r\n    finishedTask: {\r\n      deep: true,\r\n      handler(newValue) {\r\n        console.log(\"Task\");\r\n        localStorage.setItem(\"finishedTask\", JSON.stringify(newValue));\r\n      },\r\n    },\r\n    arr1: {\r\n      deep: true,\r\n      handler(newValue) {\r\n        localStorage.setItem(\"oneArea\", JSON.stringify(newValue));\r\n        console.log(\"oneArea\");\r\n      },\r\n    },\r\n    arr2: {\r\n      deep: true,\r\n      handler(newValue) {\r\n        localStorage.setItem(\"twoArea\", JSON.stringify(newValue));\r\n        console.log(\"twoArea\");\r\n      },\r\n    },\r\n    arr3: {\r\n      deep: true,\r\n      handler(newValue) {\r\n        localStorage.setItem(\"ThreeArea\", JSON.stringify(newValue));\r\n        console.log(\"Three\");\r\n      },\r\n    },\r\n    arr4: {\r\n      deep: true,\r\n      handler(newValue) {\r\n        localStorage.setItem(\"fourArea\", JSON.stringify(newValue));\r\n        console.log(\"Four\");\r\n      },\r\n    },\r\n  },\r\n  mounted() {\r\n    this.pushFinishedTaskArr();\r\n    console.log(\"mounted\");\r\n  },\r\n  destroyed() {\r\n    this.deleteFinishedTaskArr();\r\n    console.log(\"destroyed\");\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <!--使用draggable组件-->\r\n    <div class=\"main\">\r\n      <h1>任务区{{ finishedTask }}</h1>\r\n      <div class=\"task\">\r\n        <draggable\r\n          v-model=\"finishedTask\"\r\n          group=\"itxst\"\r\n          ghostClass=\"ghost\"\r\n          chosenClass=\"chosen\"\r\n          filter=\".forbid\"\r\n          animation=\"300\"\r\n          :move=\"onMove\"\r\n        >\r\n          <transition-group>\r\n            <div\r\n              :class=\"item.id == '1' ? 'item forbid' : 'item'\"\r\n              v-for=\"item in finishedTask\"\r\n              :key=\"item.id\"\r\n            >\r\n              {{ item.name }}\r\n            </div>\r\n          </transition-group>\r\n        </draggable>\r\n      </div>\r\n      <div class=\"subarea\">\r\n        <div class=\"col\">\r\n          <draggable\r\n            v-model=\"arr1\"\r\n            group=\"itxst\"\r\n            ghostClass=\"ghost\"\r\n            chosenClass=\"chosen\"\r\n            filter=\".forbid\"\r\n            animation=\"300\"\r\n            :move=\"onMove\"\r\n          >\r\n            <transition-group>\r\n              <div\r\n                :class=\"item.id == 1 ? 'item forbid' : 'item'\"\r\n                v-for=\"item in arr1\"\r\n                :key=\"item.id\"\r\n              >\r\n                {{ item.name }}\r\n              </div>\r\n            </transition-group>\r\n          </draggable>\r\n        </div>\r\n\r\n        <div class=\"col\">\r\n          <draggable\r\n            v-model=\"arr2\"\r\n            group=\"itxst\"\r\n            ghostClass=\"ghost\"\r\n            chosenClass=\"chosen\"\r\n            filter=\".forbid\"\r\n            animation=\"300\"\r\n            :move=\"onMove\"\r\n          >\r\n            <transition-group>\r\n              <div\r\n                :class=\"item.id == 1 ? 'item forbid' : 'item'\"\r\n                v-for=\"item in arr2\"\r\n                :key=\"item.id\"\r\n              >\r\n                {{ item.name }}\r\n              </div>\r\n            </transition-group>\r\n          </draggable>\r\n        </div>\r\n        <div class=\"col\">\r\n          <draggable\r\n            v-model=\"arr3\"\r\n            group=\"itxst\"\r\n            ghostClass=\"ghost\"\r\n            chosenClass=\"chosen\"\r\n            filter=\".forbid\"\r\n            animation=\"300\"\r\n            :move=\"onMove\"\r\n          >\r\n            <transition-group>\r\n              <div\r\n                :class=\"item.id == 1 ? 'item forbid' : 'item'\"\r\n                v-for=\"item in arr3\"\r\n                :key=\"item.id\"\r\n              >\r\n                {{ item.name }}\r\n              </div>\r\n            </transition-group>\r\n          </draggable>\r\n        </div>\r\n        <div class=\"col\">\r\n          <draggable\r\n            v-model=\"arr4\"\r\n            group=\"itxst\"\r\n            ghostClass=\"ghost\"\r\n            chosenClass=\"chosen\"\r\n            filter=\".forbid\"\r\n            animation=\"300\"\r\n            :move=\"onMove\"\r\n          >\r\n            <transition-group>\r\n              <div\r\n                :class=\"item.id == 1 ? 'item forbid' : 'item'\"\r\n                v-for=\"item in arr4\"\r\n                :key=\"item.id\"\r\n              >\r\n                {{ item.name }}\r\n              </div>\r\n            </transition-group>\r\n          </draggable>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.main {\r\n  margin: 10px;\r\n}\r\n\r\n.col,\r\n.task {\r\n  flex: 1;\r\n  padding: 10px;\r\n  border: solid 1px #eee;\r\n  border-radius: 5px;\r\n  float: left;\r\n  overflow: auto;\r\n}\r\n.task {\r\n  margin-top: 15px;\r\n  width: 20vw;\r\n  height: 86.9vh;\r\n  overflow: auto;\r\n}\r\n.subarea {\r\n  margin: 10px;\r\n  float: left;\r\n  width: 60vw;\r\n  height: 90vh;\r\n  overflow: hidden;\r\n}\r\n.subarea .col {\r\n  width: 28vw;\r\n  height: 41.5vh;\r\n  float: left;\r\n  margin: 5px;\r\n}\r\n\r\n.drag {\r\n  background-color: blue !important;\r\n  border: solid 3px red;\r\n}\r\n.chosen {\r\n  background-color: #000 !important;\r\n  color: #fff;\r\n}\r\n.ghost {\r\n  background-color: red !important;\r\n}\r\n\r\n.item {\r\n  padding: 6px 12px;\r\n  margin: 0px 10px 0px 10px;\r\n  border: solid 1px #eee;\r\n  background-color: #f1f1f1;\r\n  text-align: left;\r\n}\r\n.item + .item {\r\n  border-top: none;\r\n  margin-top: 6px;\r\n}\r\n.item:hover {\r\n  background-color: #fdfdfd;\r\n  cursor: move;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}