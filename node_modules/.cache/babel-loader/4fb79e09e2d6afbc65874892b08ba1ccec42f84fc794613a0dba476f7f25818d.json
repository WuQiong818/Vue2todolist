{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { nanoid } from \"nanoid\";\nimport { watch } from \"vue\";\nexport default {\n  namespaced: true,\n  state: {\n    // 增、删、改、查\n    todos: JSON.parse(localStorage.getItem(\"todos\")) || []\n  },\n  // 当state中的需要加工可以使用getters并不对数据进行修改\n  getters: {},\n  actions: {\n    add(context, value) {\n      context.commit(\"ADD\", value);\n    }\n  },\n  mutations: {\n    // 这个改一下，不在这里封装大量的逻辑\n    ADD: function (state, value) {\n      state.todos.push(value);\n      window.localStorage.setItem('todos', JSON.stringify(state.todos));\n    },\n    EDIT: function (state, value) {\n      console.log(\"value\", value);\n      state.todos.forEach(item => {\n        if (value.id == item.id) {\n          item.isEdit = true;\n        }\n      });\n    },\n    // 修改内容\n    ALTER: function (state, value) {\n      state.todos.forEach(item => {\n        if (value.id == item.id) {\n          item.isEdit = value.isEdit;\n          item.todoThing.isEdit = value.todoThing.title;\n          console.log(\"ALTER执行了\", item);\n        }\n      });\n    },\n    DELETE: function (state, value) {\n      const todoArray = state.todos;\n      for (var i = 0; i < todoArray.length; i++) {\n        if (todoArray[i].id == value.id) {\n          todoArray.splice(i, 1);\n        }\n      }\n      console.log(state.todos);\n    },\n    ALTERCHECKBOX: function (state, value) {\n      state.todos.forEach(item => {\n        if (item.id == value.id) {\n          item.isFinished = !item.isFinished;\n          console.log(\"状态发生改变了\", item);\n        }\n      });\n    },\n    CHANGEWEIGHT: function (state, value) {\n      state.todos.forEach(item => {\n        if (item.id == value.id) {\n          item.isImportance = !item.isImportance;\n          console.log(\"任务权重发生改变了\", item);\n        }\n      });\n    }\n    // watchState: function (state, value) {\n    //     todos:{\n    //         deep:true,\n    //         handler(state,value){\n    //             console.log(\"watch执行了\");\n    //             localStorage.setItem(\"todos\",JSON.stringify(value))\n    //         }    \n    //     }\n    // },\n  }\n};\n\n/* \r\ngender：varchar(1)\r\n一个管理员对应多个读者，再读者表建立外键关联管理员编号\r\nborrow_log表,少了一个本身表的id\r\n\r\n\r\n\r\n\r\n------------------\r\nuser表：\r\nid是id,账号是账号，id一般设置成主键，自增生成。账号设置成唯一、非空约束。或者将id改成account\r\ngender char(1)就可以了\r\nma_id建立外键，关联manager表中的主键\r\nmanager表：\r\n不要使用status(mysql的保留字)改成manageStatus\r\ngender\r\nbook表：\r\nstatus\r\nclass也换一下\r\nborrow_log表：\r\n添加一个id字段，设置成主键\r\nuser_name、book_id去掉，分别建立外键去关联对应的id\r\n\r\n\r\n*/","map":{"version":3,"names":["nanoid","watch","namespaced","state","todos","JSON","parse","localStorage","getItem","getters","actions","add","context","value","commit","mutations","ADD","push","window","setItem","stringify","EDIT","console","log","forEach","item","id","isEdit","ALTER","todoThing","title","DELETE","todoArray","i","length","splice","ALTERCHECKBOX","isFinished","CHANGEWEIGHT","isImportance"],"sources":["D:/SoftwareDevelop/VsData/Vue/todolist/src/store/todoOptions.js"],"sourcesContent":["\r\nimport { nanoid } from \"nanoid\";\r\nimport { watch } from \"vue\";\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        // 增、删、改、查\r\n        todos: JSON.parse(localStorage.getItem(\"todos\"))||[]\r\n    },\r\n\r\n    // 当state中的需要加工可以使用getters并不对数据进行修改\r\n    getters: {\r\n\r\n    },\r\n\r\n\r\n    actions: {\r\n        add(context, value) {\r\n            context.commit(\"ADD\", value)\r\n        }\r\n    },\r\n    mutations: {\r\n        // 这个改一下，不在这里封装大量的逻辑\r\n        ADD: function (state, value) {\r\n            state.todos.push(value)\r\n            window.localStorage.setItem('todos', JSON.stringify(state.todos))\r\n        },\r\n        EDIT: function (state, value) {\r\n            console.log(\"value\", value);\r\n            state.todos.forEach(item => {\r\n                if (value.id == item.id) {\r\n                    item.isEdit = true;\r\n                }\r\n            });\r\n        },\r\n        // 修改内容\r\n        ALTER: function (state, value) {\r\n            state.todos.forEach(item => {\r\n                if (value.id == item.id) {\r\n                    item.isEdit = value.isEdit;\r\n                    item.todoThing.isEdit = value.todoThing.title;\r\n                    console.log(\"ALTER执行了\", item);\r\n                }\r\n            });\r\n        },\r\n        DELETE: function (state, value) {\r\n            const todoArray = state.todos\r\n            for (var i = 0; i < todoArray.length; i++) {\r\n                if (todoArray[i].id == value.id) {\r\n                    todoArray.splice(i, 1)\r\n                }\r\n            }\r\n            console.log(state.todos);\r\n        },\r\n        ALTERCHECKBOX: function (state, value) {\r\n            state.todos.forEach(item => {\r\n                if (item.id == value.id) {\r\n                    item.isFinished = !(item.isFinished)\r\n                    console.log(\"状态发生改变了\", item);\r\n                }\r\n            });\r\n        },\r\n        CHANGEWEIGHT: function (state, value) {\r\n            state.todos.forEach(item => {\r\n                if (item.id == value.id) {\r\n                    item.isImportance = !(item.isImportance)\r\n                    console.log(\"任务权重发生改变了\", item);\r\n                }\r\n            });\r\n        },\r\n        // watchState: function (state, value) {\r\n        //     todos:{\r\n        //         deep:true,\r\n        //         handler(state,value){\r\n        //             console.log(\"watch执行了\");\r\n        //             localStorage.setItem(\"todos\",JSON.stringify(value))\r\n        //         }    \r\n        //     }\r\n        // },\r\n\r\n        \r\n\r\n    },\r\n\r\n}\r\n\r\n\r\n/* \r\ngender：varchar(1)\r\n一个管理员对应多个读者，再读者表建立外键关联管理员编号\r\nborrow_log表,少了一个本身表的id\r\n\r\n\r\n\r\n\r\n------------------\r\nuser表：\r\nid是id,账号是账号，id一般设置成主键，自增生成。账号设置成唯一、非空约束。或者将id改成account\r\ngender char(1)就可以了\r\nma_id建立外键，关联manager表中的主键\r\nmanager表：\r\n不要使用status(mysql的保留字)改成manageStatus\r\ngender\r\nbook表：\r\nstatus\r\nclass也换一下\r\nborrow_log表：\r\n添加一个id字段，设置成主键\r\nuser_name、book_id去掉，分别建立外键去关联对应的id\r\n\r\n\r\n*/"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}